"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{2323:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(7876),l=a(4232),o=a(8477),r=a(7546),s=a(8514);let i={title:"Elisavet & Aristotelis – Wedding",location:"Zogeria Beach, Spetses",start:new Date("2026-09-19T10:00:00Z"),end:new Date("2026-09-19T18:00:00Z"),transport:"Small boats from Dapia to Zogeria (arrive 20–30 min early)."};function c(e){let{successPortalId:t,onSubmitted:a}=e,[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null),[x,g]=(0,l.useState)([]),[f,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{t&&p(document.getElementById(t))},[t]);let h=(0,n.jsxs)(r.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"bg-gray-50 border border-gray-200 rounded-lg p-6 shadow-md text-center space-y-3",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\uD83C\uDF89 RSVP received!"}),u&&(0,n.jsxs)("p",{className:"text-sm text-gray-700",children:["Confirmation code: ",(0,n.jsx)("span",{className:"font-mono font-semibold",children:u})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[(0,n.jsx)("button",{onClick:function(){var e,t,a;let n=e=>String(e).padStart(2,"0"),l=e=>"".concat(e.getUTCFullYear()).concat(n(e.getUTCMonth()+1)).concat(n(e.getUTCDate()),"T").concat(n(e.getUTCHours())).concat(n(e.getUTCMinutes())).concat(n(e.getUTCSeconds()),"Z"),o=e=>e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;"),r=o(i.title),s=o(i.location),c=o(i.transport),d=null!=(a=null==(t=globalThis.crypto)||null==(e=t.randomUUID)?void 0:e.call(t))?a:Math.random().toString(36).slice(2)+Date.now(),u=new Date,m=new Blob(["BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:-//AE Wedding//RSVP//EN\r\nCALSCALE:GREGORIAN\r\nMETHOD:PUBLISH\r\nBEGIN:VEVENT\r\n"+"UID:".concat(d,"\r\n")+"DTSTAMP:".concat(l(u),"\r\n")+"DTSTART:".concat(l(i.start),"\r\n")+"DTEND:".concat(l(i.end),"\r\n")+"SUMMARY:".concat(r,"\r\n")+"LOCATION:".concat(s,"\r\n")+"DESCRIPTION:".concat(c,"\r\n")+"END:VEVENT\r\nEND:VCALENDAR\r\n"],{type:"text/calendar;charset=utf-8"}),x=URL.createObjectURL(m),g=document.createElement("a");g.href=x,g.download="wedding.ics",g.click(),URL.revokeObjectURL(x)},className:"w-full bg-gray-900 hover:bg-black text-white px-4 py-2 rounded-lg",children:"Add to Calendar"}),(0,n.jsx)("button",{onClick:function(){let e=x.join(" & "),t="".concat(i.title,"\nGuest(s): ").concat(e,"\nWhen: Sat, Sep 19, 2026 • 13:00\nWhere: ").concat(i.location,"\nTransport: ").concat(i.transport,"\n\nConfirmation: ").concat(null!=u?u:"-");navigator.clipboard.writeText(t).catch(()=>{})},className:"w-full border border-gray-300 hover:bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:"Copy Details"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"You can close this page—your RSVP was saved."})]});return(0,n.jsx)("div",{className:"w-full max-w-lg mx-auto",children:c?f?(0,o.createPortal)(h,f):h:(0,n.jsx)(s.A,{allowPlusOne:!0,title:"RSVP",buttonText:"Submit RSVP",onSubmit:async(e,n,l,o)=>{var r,s;let{attendance:i,diet:c,message:u}=o,x=await fetch("/api/rsvp-plusone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:e,email:n,phone:l,attendance:i,diet:c,message:u})});if(!x.ok){let{error:e}=await x.json();throw Error(e)}let f=await x.json();m(null!=(r=f.confirmationCode)?r:null),g(e),d(!0),null==a||a({confirmation:null!=(s=f.confirmationCode)?s:null,names:e,email:n}),t&&requestAnimationFrame(()=>{var e;null==(e=document.getElementById(t))||e.scrollIntoView({behavior:"smooth",block:"center"})})}})})}},8514:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(7876),l=a(4232),o=a(7546),r=a(4587),s=a.n(r),i=a(988);let c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.35}}},d=["yes","no"];function u(e){return e.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0)))}let m=e=>e.startsWith("+")?e:"+".concat(e),x=[{code:"+30",isoCode:"GR"},{code:"+44",isoCode:"GB"},{code:"+1",isoCode:"US"},{code:"+39",isoCode:"IT"},{code:"+33",isoCode:"FR"}],g=new Set(x.map(e=>e.code));function f(e){let{allowPlusOne:t=!1,title:a,buttonText:r,onSubmit:f}=e,[p,h]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[j,C]=(0,l.useState)("yes"),[w,S]=(0,l.useState)(""),[P,E]=(0,l.useState)(""),[T,D]=(0,l.useState)(""),[A,R]=(0,l.useState)(!1),[k,I]=(0,l.useState)("+30"),[U,V]=(0,l.useState)("");async function O(e){e.preventDefault(),D(""),R(!0);let a=[p.trim(),t?b.trim():""].filter(Boolean),n="".concat(k).concat((null!=U?U:"").trim());try{await f(a,v.trim(),n,{attendance:j,diet:w,message:P.trim()})}catch(e){D(e instanceof Error?e.message:"Submission failed.")}finally{R(!1)}}let L=(0,l.useMemo)(()=>{let e=new Map;for(let t of i.Ay){let a=t.isoCode2;if(a)for(let n of Array.isArray(t.countryCodes)?t.countryCodes:[]){let t=m(String(n));g.has(t)||e.has(t)||e.set(t,a)}}let t=Array.from(e,e=>{let[t,a]=e;return{code:t,isoCode:a}});return t.sort((e,t)=>e.isoCode.localeCompare(t.isoCode)),t},[]);return(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto px-4 mt-6",children:[(0,n.jsxs)(o.P.div,{initial:"hidden",animate:"visible",variants:c,children:[(0,n.jsx)("section",{className:"text-center py-6",children:(0,n.jsx)(s(),{src:"/RSVP.png",alt:a,width:600,height:200,className:"mx-auto h-auto w-[40%] md:w-[30%] lg:w-[20%]",priority:!0})}),(0,n.jsx)("p",{className:"text-center text-neutral-500 text-sm mt-1",children:"Please respond at your earliest convienience"})]}),(0,n.jsxs)(o.P.form,{onSubmit:O,className:"space-y-5 mt-6",initial:"hidden",animate:"visible",variants:c,children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-semibold text-neutral-900",children:t?"Full Name (Person 1)":"Your Full Name"}),(0,n.jsx)(o.P.input,{type:"text",value:p,onChange:e=>h(e.target.value),required:!0,className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",variants:c})]}),t&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-semibold text-neutral-900",children:"Full Name (Person 2)"}),(0,n.jsx)(o.P.input,{type:"text",value:b,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",variants:c})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-semibold text-neutral-900",children:"Email"}),(0,n.jsx)(o.P.input,{type:"email",value:v,onChange:e=>N(e.target.value),required:!0,className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",variants:c})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-semibold text-black",children:"Phone Number"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("select",{value:k,onChange:e=>I(e.target.value),className:"min-w-[7rem] max-w-[8rem] text-center px-2 py-3 border border-gray-300 rounded-l-lg bg-white focus:outline-none focus:ring-2 focus:ring-black shrink-0",children:[x.map(e=>(0,n.jsxs)("option",{value:e.code,children:[u(e.isoCode)," ",e.isoCode," ",e.code]},"fav-".concat(e.code))),(0,n.jsx)("option",{disabled:!0,children:"──────────"}),L.map(e=>(0,n.jsxs)("option",{value:e.code,children:[u(e.isoCode)," ",e.isoCode," ",e.code]},e.code))]}),(0,n.jsx)("input",{type:"tel",value:U,onChange:e=>V(e.target.value),placeholder:"Your phone number",className:"flex-1 px-4 py-3 border border-l-0 border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-black"})]})]}),(0,n.jsxs)(o.P.fieldset,{className:"flex flex-col gap-2",variants:c,children:[(0,n.jsx)("legend",{className:"text-sm py-1.5 font-semibold text-neutral-900",children:"Will you be attending?"}),d.map(e=>(0,n.jsxs)("label",{className:"inline-flex items-center gap-2 text-neutral-800",children:[(0,n.jsx)("input",{type:"radio",name:"attendance",value:e,checked:j===e,onChange:()=>C(e),className:"accent-neutral-900"}),(0,n.jsx)("span",{children:"yes"===e?"Yes, I will be there":"No, unfortunately I will not attend"})]},e))]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-semibold text-neutral-900",children:"Dietary Preferences (optional)"}),(0,n.jsx)(o.P.textarea,{value:w,onChange:e=>S(e.target.value),placeholder:"e.g. Allergies, vegetarian, no nuts, gluten-free...",rows:3,className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",variants:c})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-semibold text-neutral-900",children:"Message for the couple (optional)"}),(0,n.jsx)(o.P.textarea,{value:P,onChange:e=>E(e.target.value),rows:4,className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neutral-900",variants:c})]}),T&&(0,n.jsx)(o.P.p,{className:"text-red-600 text-center text-sm",variants:c,children:T}),(0,n.jsx)(o.P.button,{type:"submit",disabled:A,className:"w-full bg-neutral-900 hover:bg-black text-white font-medium py-3 rounded-lg",variants:c,children:A?"Submitting…":r})]})]})}}}]);